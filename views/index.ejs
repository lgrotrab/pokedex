<%- include('partials/header.ejs') %>

<form action="/pokemon" method="POST">
  <label for="search">Buscar Pokémon:</label>
  <input type="text" id="pokemonName" name="pokemonName" placeholder="Digite o nome do Pokémon">
  <button type="submit">Buscar</button>
</form>

<div class="pokemon-list">
  <% if (Array.isArray(pokemonData)) { %>
    <% pokemonData.forEach(pokemon => { %>
      <div class="pokemon-card">
        <h1><%= pokemon.name %></h1>
        <img src="<%= pokemon.sprites.front_default %>" alt="<%= pokemon.name %>" />
        <% const pesoPokemon = pokemon.weight/10 %>
        <p>Peso: <%= pesoPokemon %> kg</p>
        <% let alturaPokemon = pokemon.height/10 %>
        <p>Altura: <%= alturaPokemon%> m</p>
        <p>Tipo(s): 
          <% pokemon.types.forEach(type => { %>
            <%= type.type.name %>
          <% }); %>
        </p>
      </div>
    <% }); %>
  <% } else { %>
    <div class="pokemon-card">
      <h1><%= pokemonData.name %></h1>
      <img src="<%= pokemonData.sprites.front_default %>" alt="<%= pokemonData.name %>" />
      <% const pesoPokemon = pokemonData.weight /10 %>
      <p>Peso: <%= pesoPokemon %> kg</p>
      <% const alturaPokemon = pokemonData.height/10 %>
      <p>Altura: <%= pokemonData.height %> m</p>
      <p>Tipo(s): 
        <% pokemonData.types.forEach(type => { %>
          <%= type.type.name %>
        <% }); %>
      </p>
    </div>
  <% } %>
</div>

<%- include('partials/footer.ejs') %>